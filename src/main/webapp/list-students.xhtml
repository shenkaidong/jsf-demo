<?xml version='1.0' encoding='UTF-8' ?>  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<f:metadata>
  <f:event type="preRenderView" listener="#{studentController.loadStudents()}"/>
</f:metadata>

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1.5" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>Student Tracker App</title>
	
	<h:outputStylesheet library="css" name="style.css"  />
	
</h:head>

<h:body>
		<h:form>  
		    <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true" />
 
    <p:panel id="basic" header="Basic" footer="Details" style="margin-bottom:20px">
        <h:panelGrid columns="2" cellpadding="10">
        
	<div id="wrapper">
		<div id="header">
			<h2>HELLO WORLD</h2>
		</div>
	</div>
        </h:panelGrid>
    </p:panel>
    
    
    <p:panel id="toggleable" header="Toggleable" toggleable="true" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px">
 
        <p:ajax event="close" listener="#{panelView.onClose}" update="msgs" />
        <p:ajax event="toggle" listener="#{panelView.onToggle}" update="msgs" />
         <h:panelGrid columns="2" cellpadding="5">
<div>
			<p:menubar>  
				<p:submenu label="Add Student" icon="ui-icon-document">  
					<p:menuitem value="Add Student" outcome="add-student-form"/>
				</p:submenu>  
			
				<p:submenu label="File" icon="ui-icon-document">  
				<p:submenu label="New" icon="ui-icon-contact">  
					<p:menuitem value="Download" action="#{studentController.downloadStudents()}"/>  
					<p:menuitem value="Other" />  
				</p:submenu>  
					<p:menuitem value="Open" />  
				<p:separator />  
					<p:menuitem value="Exit" />  
				</p:submenu>  
				<p:submenu label="Edit" icon="ui-icon-pencil">  
					<p:menuitem value="Undo" icon="ui-icon-arrowreturnthick-1-w" />  
					<p:menuitem value="Redo" icon="ui-icon-arrowreturnthick-1-e" />  
				</p:submenu>  
					<p:submenu label="Help" icon="ui-icon-help">  
					<p:menuitem value="help" icon="ui-icon-help" />  
				</p:submenu>  

			</p:menubar>  
			</div>
			
				    <h:panelGrid columns="2" cellpadding="5">  
			<p:outputLabel for="inline" value="Select Date" />  
			<p:calendar id="inline" value="#{calendar.date}" mode="popup" />  
	</h:panelGrid>  
			
	<div id="container">

		<div id="content">
		
			<h:messages globalOnly="true" />
		
			<!--  <h:button value="Add Student" styleClass="add-student-button" outcome="add-student-form"/>			
			
			-->
			<h:form>
						
			<h:dataTable value="#{studentController.students}" var="tempStudent"
				styleClass="demo-table" 
				headerClass="demo-table-header"
				rowClasses="demo-table-odd-row,demo-table-even-row">

				<h:column>
					<!-- the column header -->
					<f:facet name="header">ID</f:facet>

					<!--  the value for each row -->
					#{tempStudent.id}
				</h:column>

				<h:column>
					<!-- the column header -->
					<f:facet name="header">First Name</f:facet>

					<!--  the value for each row -->
					#{tempStudent.firstName}
				</h:column>

				<h:column>
					<!-- the column header -->
					<f:facet name="header">Last Name</f:facet>

					<!--  the value for each row -->
					#{tempStudent.lastName}
				</h:column>

				<h:column>
					<!-- the column header -->
					<f:facet name="header">Email</f:facet>

					<!--  the value for each row -->
					#{tempStudent.email}
				</h:column>
				<h:column>
					<!-- the column header -->
					<f:facet name="header">Address Line-One</f:facet>

					<!--  the value for each row -->
					#{tempStudent.addressLine1}
				</h:column>
								<h:column>
					<!-- the column header -->
					<f:facet name="header">Address Line-Two</f:facet>

					<!--  the value for each row -->
					#{tempStudent.addressLine2}
				</h:column>
								<h:column>
					<!-- the column header -->
					<f:facet name="header">City</f:facet>

					<!--  the value for each row -->
					#{tempStudent.city}
				</h:column>
								<h:column>
					<!-- the column header -->
					<f:facet name="header">State</f:facet>

					<!--  the value for each row -->
					#{tempStudent.state}
				</h:column>
								<h:column>
					<!-- the column header -->
					<f:facet name="header">Zip Code</f:facet>

					<!--  the value for each row -->
					#{tempStudent.zipCode}
				</h:column>
				<h:column>
					<!-- the column header -->
					<f:facet name="header">Action</f:facet>

					<!--  the value for each row -->
					<h:commandButton value="Update"
					 icon="pi pi-user" styleClass="rounded-button ui-button-info ui-button-flat" 
						action="#{studentController.loadStudent(tempStudent.id)}"/>
					|

					<h:commandButton type="button"
					icon="pi pi-times" styleClass="rounded-button ui-button-danger ui-button-flat"
						value="Delete"
						onclick="if (!confirm('Are you sure you want to delete this student?')) return false"
						action="#{studentController.deleteStudent(tempStudent.id)}"/>
					
				</h:column>

			</h:dataTable>

			</h:form>

		</div>
		
	</div>
	
	        </h:panelGrid>
	        
	            </p:panel>
	            
	            


		</h:form>  
</h:body>
</html>
